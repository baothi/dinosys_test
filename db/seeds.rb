# This file should contain all the record creation needed to seed the database with its default values.
# The data can then be loaded with the rake db:seed (or created alongside the db with db:setup).
#
# Examples:
#
#   cities = City.create([{ name => 'Chicago' }, { name => 'Copenhagen' }])
#   Mayor.create(name => 'Emanuel', city => cities.first)

 DUMMY_DATA = [
      {
        "date" => "12/1/2013",
        "category" => "Travel",
        "employee name" => "Duy Nguyen",
        "employee address" => "204 Pasteur, Ho Chi Minh City",
        "expense description" => "Taxi ride",
        "pre-tax amount" => "350,000",
        "tax name" => "VAT",
        "tax amount" => "31,060"
      },
      {
        "date" => "12/15/2013",
        "category" => "Meals and Entertainment",
        "employee name" => "Anh Pham",
        "employee address" => "1 Infinite Loop, Cupertino, CA 95014",
        "expense description" => "Team lunch",
        "pre-tax amount" => "235,000",
        "tax name" => "VAT",
        "tax amount" => "17,300"
      },
      {
        "date" => "12/31/2013",
        "category" => "Computer - Hardware",
        "employee name" => "Van Tran",
        "employee address" => "1 Infinite Loop, Cupertino, CA 95014",
        "expense description" => "HP Laptop",
        "pre-tax amount" => "999,000",
        "tax name" => "Import tax",
        "tax amount" => "74,930"
      },
      {
        "date" => "12/14/2013",
        "category" => "Computer - Software",
        "employee name" => "Thanh Dang",
        "employee address" => "1 Infinite Loop, Cupertino, CA 95014",
        "expense description" => "Microsoft Office",
        "pre-tax amount" => "899,000",
        "tax name" => "VAT",
        "tax amount" => "67.430"
      },
      {
        "date" => "12/6/2013",
        "category" => "Computer - Software",
        "employee name" => "Huong Vu",
        "employee address" => "1600 Amphitheatre Parkway, Mountain View, CA 94043",
        "expense description" => "iCloud Subscription",
        "pre-tax amount" => "50000",
        "tax name" => "VAT",
        "tax amount" => "3,750"
      },
      {
        "date" => "12/9/2013",
        "category" => "Computer - Software",
        "employee name" => "Trang Tran",
        "employee address" => "1600 Amphitheatre Parkway, Mountain View, CA 94043",
        "expense description" => "iCloud Subscription",
        "pre-tax amount" => "50,000",
        "tax name" => "VAT",
        "tax amount" => "3,750"
      },
      {
        "date" => "11/10/2013",
        "category" => "Meals and Entertainment",
        "employee name" => "Viet Le",
        "employee address" => "1600 Amphitheatre Parkway, Mountain View, CA 94043",
        "expense description" => "Coffee with Steve",
        "pre-tax amount" => "300,000",
        "tax name" => "VAT",
        "tax amount" => "22,500"
      },
      {
        "date" => "11/12/2013",
        "category" => "Travel",
        "employee name" => "Trang Tran",
        "employee address" => "1600 Amphitheatre Parkway, Mountain View, CA 94043",
        "expense description" => "Taxi ride",
        "pre-tax amount" => "230,000",
        "tax name" => "VAT",
        "tax amount" => "17,250"
      },
      {
        "date" => "11/20/2013",
        "category" => "Meals and Entertainment",
        "employee name" => "Duy Nguyen",
        "employee address" => "204 Pasteur, Ho Chi Minh City",
        "expense description" => "Client dinner",
        "pre-tax amount" => "200,000",
        "tax name" => "VAT",
        "tax amount" => "15,000"
      },
      {
        "date" => "10/4/2013",
        "category" => "Travel",
        "employee name" => "Viet Le",
        "employee address" => "1600 Amphitheatre Parkway, Mountain View, CA 94043",
        "expense description" => "Flight to Hanoi",
        "pre-tax amount" => "1,200,000",
        "tax name" => "VAT",
        "tax amount" => "15000"
      },
      {
        "date" => "10/12/2013",
        "category" => "Computer - Hardware",
        "employee name" => "Duy Nguyen",
        "employee address" => "204 Pasteur, Ho Chi Minh City",
        "expense description" => "Macbook Air",
        "pre-tax amount" => "1,999,000",
        "tax name" => "Import tax",
        "tax amount" => "177,410"
      },
      {
        "date" => "12/9/2013",
        "category" => "Computer - Software",
        "employee name" => "Anh Pham",
        "employee address" => "1 Infinite Loop, Cupertino, CA 95014",
        "expense description" => "Dropbox Subscription",
        "pre-tax amount" => "15,000",
        "tax name" => "VAT",
        "tax amount" => "1,130"
      },
      {
        "date" => "9/18/2013",
        "category" => "Travel",
        "employee name" => "Thanh Dang",
        "employee address" => "1 Infinite Loop, Cupertino, CA 95014",
        "expense description" => "Taxi ride",
        "pre-tax amount" => "200,000",
        "tax name" => "VAT",
        "tax amount" => "15,000"
      },
      {
        "date" => "9/30/2013",
        "category" => "Office Supplies",
        "employee name" => "Trang Tran",
        "employee address" => "1600 Amphitheatre Parkway, Mountain View, CA 94043",
        "expense description" => "Paper",
        "pre-tax amount" => "200,000",
        "tax name" => "VAT",
        "tax amount" => "15,000"
      },
      {
        "date" => "12/30/2013",
        "category" => "Meals and Entertainment",
        "employee name" => "Trang Tran",
        "employee address" => "1600 Amphitheatre Parkway, Mountain View, CA 94043",
        "expense description" => "Dinner with potential acquisition",
        "pre-tax amount" => "200,000",
        "tax name" => "VAT",
        "tax amount" => "15,000"
      },
      {
        "date" => "1/6/2014",
        "category" => "Computer - Hardware",
        "employee name" => "Viet Le",
        "employee address" => "1600 Amphitheatre Parkway, Mountain View, CA 94043",
        "expense description" => "iPhone",
        "pre-tax amount" => "200,000",
        "tax name" => "Import tax",
        "tax amount" => "15,000"
      },
      {
        "date" => "1/7/2014",
        "category" => "Travel",
        "employee name" => "Anh Pham",
        "employee address" => "1 Infinite Loop, Cupertino, CA 95014",
        "expense description" => "Airplane ticket to NY",
        "pre-tax amount" => "200,000",
        "tax name" => "VAT",
        "tax amount" => "15,000"
      },
      {
        "date" => "2/3/2014",
        "category" => "Meals and Entertainment",
        "employee name" => "Van Tran",
        "employee address" => "1 Infinite Loop, Cupertino, CA 95014",
        "expense description" => "Starbucks coffee",
        "pre-tax amount" => "12,000",
        "tax name" => "VAT",
        "tax amount" => "900"
      },
      {
        "date" => "2/18/2014",
        "category" => "Travel",
        "employee name" => "Viet Le",
        "employee address" => "1600 Amphitheatre Parkway, Mountain View, CA 94043",
        "expense description" => "Airplane ticket to Saigon",
        "pre-tax amount" => "1,500,000",
        "tax name" => "VAT",
        "tax amount" => "112,500"
      }
    ]
DUMMY_DATA.each do |data|
  cat = Category.where(name: data["category"]).first
  if cat.blank?
    cat = Category.create(name: data["category"])
  end

  employee = Employee.find_by_name(data["employee name"])
  if employee.blank?
    employee = Employee.create(name: data["employee name"], address: data["employee address"] )
  end
  # debugger if data["category"] == "Office Supplies"
  Expense.create(
      description: data["expense description"],
      category_id: cat.id,
      employee_id: employee.id,
      tax_name: data["tax name"],
      tax_amount: data["tax amount"],
      pre_tax_amount: data["pre-tax amount"],
    )
end
